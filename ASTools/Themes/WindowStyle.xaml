<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="clr-namespace:ASTools.View"
                    >
    <Style TargetType="{x:Type local:MainWindow}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Window}">
                    <Border Background="{StaticResource PrimaryColor}"
                        CornerRadius="{Binding WindowCornerRadius}"
                        BorderBrush="{StaticResource OutlineColor}"
                        BorderThickness="{Binding ResizeBorderThickness}"
                        Padding="{Binding ResizeBorderThickness}"
                        Margin="{Binding TaskBarMarginThickness}"
                        >
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <DockPanel Panel.ZIndex="1">
                                <StackPanel DockPanel.Dock="Left" Orientation="Horizontal" VerticalAlignment="Center" Margin="16, 12">
                                    <Image Source="/Assets/Logo80x80.png" Width="20" Height="20"/>
                                    <TextBlock Margin="16,0,5,0" VerticalAlignment="Center" Text="{Binding Title, RelativeSource={RelativeSource AncestorType=Window}}" />
                                </StackPanel>

                                <StackPanel DockPanel.Dock="Right" Orientation="Horizontal" VerticalAlignment="Top" HorizontalAlignment="Right">
                                    <Button WindowChrome.IsHitTestVisibleInChrome="True" Command="{Binding WarpCommand}" Style="{StaticResource SystemButton}">_</Button>
                                    <Button WindowChrome.IsHitTestVisibleInChrome="True" Command="{Binding MinMaxWinSizeCommand}" Style="{StaticResource SystemButton}">□</Button>
                                    <Button WindowChrome.IsHitTestVisibleInChrome="True" Command="{Binding CloseCommand}" Style="{StaticResource SystemButtonClose}">X</Button>
                                </StackPanel>

                                <TextBox Height="30" MinWidth="200" MaxWidth="500" WindowChrome.IsHitTestVisibleInChrome="True"/>
                            </DockPanel>

                            <ContentPresenter
                            Grid.Row="1"
                            Content="{TemplateBinding Content}"
                            ContentTemplate="{TemplateBinding ContentTemplate}"
                            Margin="0"/>
                        </Grid>

                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type Window}" x:Key="WindowStyle">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Window}">
                    <Border Background="{StaticResource PrimaryColor}"
                    CornerRadius="{Binding WindowCornerRadius}"
                    BorderBrush="{StaticResource OutlineColor}"
                    BorderThickness="{Binding ResizeBorderThickness}"
                    Padding="{Binding ResizeBorderThickness}"
                    Margin="{Binding TaskBarMarginThickness}"
                    >
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <DockPanel Panel.ZIndex="1">
                                <StackPanel DockPanel.Dock="Left" Orientation="Horizontal" VerticalAlignment="Center" Margin="16, 12">
                                    <Image Source="/Assets/Logo80x80.png" Width="20" Height="20"/>
                                    <TextBlock Margin="16,0,5,0" VerticalAlignment="Center" Text="{Binding Title, RelativeSource={RelativeSource AncestorType=Window}}" />
                                </StackPanel>

                                <StackPanel DockPanel.Dock="Right" Orientation="Horizontal" VerticalAlignment="Top" HorizontalAlignment="Right">
                                    <Button WindowChrome.IsHitTestVisibleInChrome="True" Command="{Binding WarpCommand}" Style="{StaticResource SystemButton}">_</Button>
                                    <Button WindowChrome.IsHitTestVisibleInChrome="True" Command="{Binding MinMaxWinSizeCommand}" Style="{StaticResource SystemButton}">□</Button>
                                    <Button WindowChrome.IsHitTestVisibleInChrome="True" Command="{Binding CloseCommand}" Style="{StaticResource SystemButtonClose}" IsEnabled="{Binding IsSaving}">X</Button>
                                </StackPanel>
                            </DockPanel>

                            <ContentPresenter
                        Grid.Row="1"
                        Content="{TemplateBinding Content}"
                        ContentTemplate="{TemplateBinding ContentTemplate}"
                        Margin="0"/>
                        </Grid>

                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type Window}" x:Key="LoadScreen">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Window}">
                    <Border Background="{StaticResource PrimaryColor}"
                CornerRadius="{Binding WindowCornerRadius}"
                BorderBrush="{StaticResource OutlineColor}"
                BorderThickness="{Binding ResizeBorderThickness}"
                Padding="{Binding ResizeBorderThickness}"
                Margin="{Binding TaskBarMarginThickness}"
                >
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <StackPanel>
                                <TextBlock>ASTools loading</TextBlock>
                            </StackPanel>

                            <ContentPresenter
                                Grid.Row="1"
                                Content="{TemplateBinding Content}"
                                ContentTemplate="{TemplateBinding ContentTemplate}"
                                Margin="0"/>
                        </Grid>

                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>